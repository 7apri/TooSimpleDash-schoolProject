import{s as Z}from"./theme-B0qO6fCl.js";const K="modulepreload",X=function(e){return"/"+e},G={},Q=function(n,t,a){let s=Promise.resolve();if(t&&t.length>0){let c=function(o){return Promise.all(o.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),i=r?.nonce||r?.getAttribute("nonce");s=c(t.map(o=>{if(o=X(o),o in G)return;G[o]=!0;const d=o.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":K,d||(m.as="script"),m.crossOrigin="",m.href=o,i&&m.setAttribute("nonce",i),document.head.appendChild(m),d)return new Promise((h,u)=>{m.addEventListener("load",h),m.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})}))}function l(r){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r}return s.then(r=>{for(const i of r||[])i.status==="rejected"&&l(i.reason);return n().catch(l)})},M=async(e,n,t,a=null)=>{const s=localStorage.getItem(e);let l=null;try{if(s&&(l=JSON.parse(s),t==null||Date.now()-l.timestamp<t&&(a!==null?a?.(l):!0)))return l.data;const r=await n();return r&&ee(e,r),r}catch(r){return console.error(`Error for key "${e}":`,r),l?l.data:null}},ee=(e,n)=>{const t={timestamp:Date.now(),data:n};localStorage.setItem(e,JSON.stringify(t))},te=e=>{try{return JSON.parse(localStorage.getItem(e)).timestamp}catch(n){return console.error("Error[ "+n+" ] getting timestamp for key: "+e),null}},ne=async e=>{const n=await fetch(`https://ipapi.co/json/?language=${e}`);if(!n.ok)throw new Error("Network response was not ok: "+n.status);const t=await n.json();return{city:t.city,latitude:t.latitude,longitude:t.longitude,source:"ip"}},ae=async e=>new Promise((n,t)=>{navigator.geolocation.getCurrentPosition(async a=>{const{latitude:s,longitude:l}=a.coords;try{const r=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${s}&longitude=${l}&localityLanguage=${e}`);if(!r.ok)throw new Error("Geocoding failed");const i=await r.json();n({latitude:s,longitude:l,city:i.city||i.locality||"Unknown Location",source:"gps"})}catch(r){console.warn("Could not find city name, returning coords only.",r),n({latitude:s,longitude:l,city:e==="cz"?"Tam kde ses":"Local Location",source:"gps-nocity"})}},a=>{t(a)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}),re=async()=>{const e=navigator.language.split("-")[0]||"en";return await ae(e).catch(()=>ne(e))},H=async(e,n,t=[])=>{console.log("$");const a="af35be625d2f551f8cc5b141b3fd73a6";try{return await(await fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${e}&lon=${n}&appid=${a}&lang=cz&`+t.join("&"))).json()}catch(s){console.error("Error fetching weather data:",s)}},se=async(e={useDummyPos:!1,useDummyData:!1})=>{let n=null,t=null;if(e.useDummyPos||e.useDummyData){const{dummyPos:a,dummyWeatherData:s}=await Q(async()=>{const{dummyPos:l,dummyWeatherData:r}=await import("./dummyData-DpZUAMVB.js");return{dummyPos:l,dummyWeatherData:r}},[]);e.useDummyPos&&(n=a),e.useDummyData&&(t=s)}if(n||(n=await M("location",re,18e4)),!n)return console.error("Could not get location. Cannot fetch weather data."),{locationData:n,weatherData:null};if(!t){const a=i=>c=>{const o=i.latitude.toFixed(2)===c.data.lat.toFixed(2),d=i.longitude.toFixed(2)===c.data.lon.toFixed(2);return o&&d},s=i=>c=>{if(!a(i)(c))return!1;const o=new Date(c.timestamp),d=new Date;return o.getDate()===d.getDate()&&o.getMonth()===d.getMonth()&&o.getFullYear()===d.getFullYear()},[l,r]=await Promise.all([M("weather-current",()=>H(n.latitude,n.longitude,["units=metric","exclude=minutely,hourly,daily"]),6e5,a(n)),M("weather-daily",()=>H(n.latitude,n.longitude,["units=metric","exclude=minutely,hourly,current"]),864e5,s(n))]);t={...r,...l}}return{locationData:n,weatherData:t}},N=e=>e.charAt(0).toUpperCase()+e.slice(1),C=(e,n,t)=>`${e}-${String(n).padStart(2,"0")}-${String(t).padStart(2,"0")}`,T=e=>{const n=Math.abs(e);return n===1?"stupeň":n>=2&&n<=4&&!e<0?"stupně":"stupňů"},oe=(e,n=document.getElementById("location-name"))=>{try{return e.length<=0&&(e="Failed"),n.textContent=e,!0}catch(t){return console.error("Got an error: ["+t+"] rendering the city into: "+n),!1}},R=(e,n=document.getElementById("update-date"))=>{try{return e.length<=0&&(e="Neco se pokazilo"),n.textContent=N(e),!0}catch(t){return console.error("Got an error: ["+t+"] rendering the date into: "+n),!1}},J=(e,n=document.getElementById("graf"))=>{try{if(n._cleanupGraph&&n._cleanupGraph(),e=e.map(o=>Math.round(o)),e.length===0)return!1;let t=Math.min(...e),a=Math.max(...e);t===a&&(t-=1,a+=1);const s=Array.from(n.querySelector("#graf-temps").children).entries();for(const[o,d]of s){const f=d.querySelector(".weather-day-graf-temp"),m=d.querySelector(".sr-only");if(!(!f||!m)){if(o>=e.length)break;f.classList.remove("cold"),e[o]<0&&f.classList.add("cold"),f.textContent=Math.abs(e[o]),m.textContent=["Ráno","Ve dne","Večer","V noci"][o]+" je "+e[o]+"°"}}const l=n.querySelector(".weather-day-graf"),r=l.getContext("2d"),i=()=>{const o=l.clientWidth,d=l.clientHeight;if(o===0||d===0)return;const f=window.devicePixelRatio||1;l.width=o*f,l.height=d*f,r.setTransform(1,0,0,1,0,0),r.scale(f,f);const m=15,h=15,u=d-h*2,p=a-t,g=(o-m*2)/(e.length-1);r.clearRect(0,0,o,d);const w=getComputedStyle(document.documentElement).getPropertyValue("--fg-color-high").trim();r.strokeStyle=w,r.lineWidth=Math.round(Math.max(5,Math.min(o,d)/70)),r.lineJoin="round",r.lineCap="round",r.beginPath(),e.forEach((E,y)=>{const b=m+y*g,D=(E-t)/p,I=d-h-D*u;y===0?r.moveTo(b,I):r.lineTo(b,I)}),r.stroke(),r.fillStyle=w,e.forEach((E,y)=>{const b=m+y*g,D=(E-t)/p,I=d-h-D*u;r.beginPath(),r.arc(b,I,r.lineWidth,0,Math.PI*2),r.fill()})};window.addEventListener("resize",i),document.addEventListener("DOMContentLoaded",i);const c=new MutationObserver(o=>{o.forEach(d=>{d.attributeName==="data-theme"&&i()})});return c.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),i(),n._cleanupGraph=()=>{window.removeEventListener("resize",i),document.removeEventListener("DOMContentLoaded",i),c.disconnect()},!0}catch(t){return console.error("Graph error:",t),!1}},le=(e,n,t={},a="cs-CZ")=>{const s=e>1e10,l=new Date(s?e:e*1e3),r={...t,timeZone:n};return l.toLocaleTimeString(a,r)},L=(e,n,t={},a="cs-CZ")=>{const s=new Date(e*1e3),l=Object.keys(t).length===0?{weekday:"short"}:t;return l.timeZone=n,s.toLocaleDateString(a,l)},V=(e,n,t,a=document.getElementById("weather-day"))=>{try{const s=le(te("weather-current"),t,{hour:"2-digit",minute:"2-digit"});R("Dnes "+s),a.querySelector("h2.sr-only").textContent="Aktuální počasí a předpověď";const l=a.querySelector(".weather-day-temp"),r=a.querySelector(".weather-day-center .sr-only");e.temp=Math.round(e.temp),r.textContent=`Je ${e.weather[0].description} a ${e.temp} ${T(e.temp)}.`,l.textContent=Math.abs(e.temp),e.temp<0?l.classList.add("cold"):l.classList.remove("cold"),a.querySelector(".weather-day-condition").textContent=e.weather[0].description;const i=Array.from(a.querySelector(".weather-day-details").children).entries();for(const[c,o]of i){const d=o.querySelector(".weather-day-detail-text");if(d)switch(c){case 0:d.textContent=e.pressure;break;case 1:d.textContent=Math.ceil(e.wind_speed);break;case 2:d.textContent=e.humidity;break;default:console.log("A weather detail out of bounds will not render nothin i: "+c);break}}return J([n.morn,n.day,n.eve,n.night]),!0}catch(s){return console.error("Got an error rendering the day: "+s+" on element: "+a),!1}},ie=(e,n,t=document.getElementById("weather-day"))=>{try{R(L(e.dt,n,{weekday:"long",day:"numeric",month:"short"}));const a=c=>{const o={pondělí:"na pondělí",úterý:"na úterý",středa:"na středu",čtvrtek:"na čtvrtek",pátek:"na pátek",sobota:"na sobotu",neděle:"na neděli"};let d=c.split(" ");return d[0]=o[d[0]],d.join(" ")};t.querySelector("h2.sr-only").textContent=`Předpověď ${a(L(e.dt,n,{weekday:"long",day:"numeric",month:"short"}))} a další dny v menu`;const s=t.querySelector(".weather-day-center .sr-only"),l=t.querySelector(".weather-day-temp");e.temp.day=Math.round(e.temp.day),l.textContent=Math.abs(e.temp.day),s.textContent=`Bude ${e.weather[0].description}.Teplota ve dne ${e.temp.day} ${T(e.temp.day)}.`,e.temp.day<0?l.classList.add("cold"):l.classList.remove("cold"),t.querySelector(".weather-day-condition").textContent=e.weather[0].description;const r=Array.from(t.querySelector(".weather-day-details").children).entries();for(const[c,o]of r){const d=o.querySelector(".weather-day-detail-text");if(d)switch(c){case 0:d.textContent=e.pressure;break;case 1:d.textContent=Math.round(e.wind_speed);break;case 2:d.textContent=e.humidity;break;default:console.log("A weather detail out of bounds will not render nothin i: "+c);break}}const i=e.temp;return J([i.morn,i.day,i.eve,i.night]),!0}catch(a){return console.error("Got an error rendering the day: "+a+" on element: "+t),!1}},ce=(e,n,t,a=document.getElementById("week-list"))=>{try{const s=a.querySelectorAll(".weather-info-week-list-item"),l=(r,i,c)=>`${N(L(r.dt,t,{weekday:"long"}))}: ${r.weather[0].description}, maximálně ${i} ${T(i)}, minimálně ${c} ${T(c)}`;if(s.length<=0){let r="";for(let h=0;h<e.length;h++){const u=e[h],p=Math.round(u.temp.max),g=Math.round(u.temp.min);r+=`<li class="weather-info-week-list-item flex column center ${h===0?"active":""}" data-index="${h}">
                                    <button class="fill" aria-label="${l(u,p,g)}" aria-current="${h===0}">
                                        <p class="weather-info-week-day" aria-hidden="true" >${L(u.dt,t)}</p>
                                        <svg class="icon" aria-hidden="true">
                                            <use href="./assets/iconBundle.svg#${u.weather[0].icon.slice(0,2)}"></use>
                                        </svg>
                                        <p class="weather-info-week-temp" aria-hidden="true">${p}/${g}</p>
                                    </button>
                                </li>`}a.innerHTML=r;const i=a.parentElement.querySelector(".left"),c=a.parentElement.querySelector(".right"),o=()=>{const h=a.scrollLeft,u=h<=20,p=h>=a.scrollWidth-a.clientWidth-20;i.style.opacity=u?"0":"0.3",i.style.pointerEvents=u?"none":"auto",i.setAttribute("aria-hidden",u),i.setAttribute("tabindex",u?"-1":"0"),c.style.opacity=p?"0":"0.3",c.style.pointerEvents=p?"none":"auto",c.setAttribute("aria-hidden",p),c.setAttribute("tabindex",p?"-1":"0")};a.addEventListener("scroll",o),a.addEventListener("scroll",o),new ResizeObserver(()=>{o()}).observe(a),o(),i.addEventListener("click",()=>{a.scrollBy({left:-(a.scrollWidth-a.clientWidth),behavior:"smooth"})}),c.addEventListener("click",()=>{a.scrollBy({left:a.scrollWidth-a.clientWidth,behavior:"smooth"})});const f=(h,u)=>{if(u||(u=[...a.querySelectorAll(".weather-info-week-list-item")].filter(g=>g.dataset.index==h)[0]),!u)return;h===0?V(n,e[0].temp,t):ie(e[h],t);const p=a.querySelector(".weather-info-week-list-item.active");p&&(p.classList.remove("active"),p.querySelector("button").setAttribute("aria-current","false")),u.classList.add("active"),u.querySelector("button").setAttribute("aria-current","true")};a.addEventListener("click",h=>{const u=h.target.closest(".weather-info-week-list-item");if(!u)return;const p=parseInt(u.dataset.index);f(p,u)}),document.getElementById("calendarGrid").addEventListener("calendar:forecastDaySelected",h=>{f(h.detail.index)})}else s.forEach((r,i)=>{const c=e[i];if(!c)return;const o=Math.round(c.temp.max),d=Math.round(c.temp.min),f=L(c.dt,t),m=c.weather[0].icon.slice(0,2);let h=!1;const u=r.querySelector(".weather-info-week-temp"),p=u.textContent.split("/").map(Number);(o!==p[0]||d!==p[1])&&(u.textContent=`${o}/${d}`,h=!0);const g=r.querySelector(".weather-info-week-day"),S=g.textContent;f!==S&&(g.textContent=f,h=!0);const w=r.querySelector(".icon use"),E=w.getAttribute("href").split("#")[1];m!==E&&(w.setAttribute("href",`./assets/icons/iconBundle.svg#${m}`),h=!0),h&&r.querySelector("button").setAttribute("aria-label",l(c,o,d))});return!0}catch(s){return console.error("Got an error rendering the week: "+s+" on element: "+a),!1}},de=(e,n,t=!0,a=document.getElementById("weather"))=>{try{const s=e.timezone;return oe(n),ce(e.daily,e.current,s),t&&V(e.current,e.daily[0].temp,s),!0}catch(s){return console.error("Got an error rendering the week: "+s+" on element: "+a),!1}};let B=null;async function U(){B&&clearTimeout(B);let e,n=!0;try{e=await se()}catch(t){console.error("Weather update failed:",t)}finally{B=setTimeout(U,59e4);const t=document.querySelector(".weather-info-week-list-item.active");t&&(n=t.dataset.index==="0"),de(e.weatherData,e.locationData.city,n)}}const P=document.getElementById("taskList"),ue=()=>{const e=document.getElementById("dateInputTodo");P.addEventListener("click",n=>{const t=n.target.closest(".task");if(!t)return;const a=Number(t.dataset.id);if(n.target.closest(".remove-task-btn")){const s=(i,c)=>{let o=c==="prev"?i.previousElementSibling:i.nextElementSibling;for(;o&&o.classList.contains("removing");)o=c==="prev"?o.previousElementSibling:o.nextElementSibling;return o},l=s(t,"prev"),r=s(t,"next");l?l.querySelector(".remove-task-btn")?.focus():r?r.querySelector(".remove-task-btn")?.focus():document.getElementById("addInput").focus(),t.classList.add("removing"),pe(e.value,a),t.addEventListener("transitionend",()=>{t.remove()},{once:!0})}n.target.classList.contains("taskCheck")&&(t.classList.toggle("completed"),fe(e.value,a))}),O(e.value)},O=e=>{const n=x()[e];let t=["",""];n&&n.forEach(a=>{const s=a.completed,l="task-"+a.id;t[s?1:0]+=`
                <li class="task flex jc-space-between ali-center ${s?"completed":""}" data-id="${a.id}">
                    <div class="flex ali-center">
                        <input type="checkbox" id="${l}" class="taskCheck border-highlight" ${s?"checked":""}/>
                        <label class="taskContent" for="${l}" >${a.content}</label>
                    </div>
                    <button class="remove-task-btn icon-container border-highlight" aria-label="Odtranit úkol ${a.content}}" type="button">
                        <svg class="icon" aria-hidden="true">
                            <use href="./assets/iconBundle.svg#cross"></use>
                        </svg>
                    </button>
                </li>
            `}),P.innerHTML=t.join("")},he=(e,n)=>{const t=document.createElement("li");t.className=`task flex jc-space-between ali-center just-added ${e.completed?"completed":""}`,t.dataset.id=e.id,t.dataset.date=n;const a="task-"+e.id;t.innerHTML=`
        <div class="flex ali-center">
            <input type="checkbox" id="${a}" class="taskCheck border-highlight" ${e.completed?"checked":""}/>
            <label class="taskContent" for="${a}" >${e.content}</label>
        </div>
        <button class="remove-task-btn icon-container border-highlight" aria-label='Odtranit úkol "${e.content}"' type="button">
             <svg class="icon" aria-hidden="true">
                <use href="./assets/iconBundle.svg#cross"></use>
            </svg>
        </button>
    `,P.prepend(t)},$="tasks",x=()=>JSON.parse(localStorage.getItem($))||{},me=(e,n)=>{const t=x();t[e]||(t[e]=[]);const a={id:Date.now(),content:n,completed:!1};return he(a,e),t[e].unshift(a),localStorage.setItem($,JSON.stringify(t)),v.updateSelectedDay(),a},W=e=>x()[e]||[],fe=(e,n)=>{const t=x();t[e]&&(t[e]=t[e].map(a=>a.id===n?{...a,completed:!a.completed}:a),localStorage.setItem($,JSON.stringify(t)),v.updateSelectedDay())},pe=(e,n)=>{const t=x();t[e]&&(t[e]=t[e].filter(a=>a.id!==n),t[e].length===0&&delete t[e],localStorage.setItem($,JSON.stringify(t)),v.updateSelectedDay())},ye=document.getElementById("monthDisplayCalendar"),ge=document.getElementById("yearDisplayCalendar");let q=null;const ve=(e,n)=>{const t=new Date(n,e-1,1);ye.textContent=N(new Intl.DateTimeFormat("default",{month:"long"}).format(t)),ge.textContent=n},F=e=>{let[n,t,a]=v.fullDateArray;const s=new Date(n,t-1,1);s.setMonth(s.getMonth()+e),n=s.getFullYear(),t=s.getMonth()+1,v.fullDateArray=[n,t,a]},we=(e,n)=>{e.preventDefault(),F(n),q=setInterval(()=>F(n),150)},Y=()=>{clearInterval(q),q=null},j=(e,n)=>{const t=a=>we(a,n);e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!1}),["mouseup","mouseleave","touchend","touchcancel"].forEach(a=>{e.addEventListener(a,Y)}),e.addEventListener("keydown",a=>{(a.key==="Enter"||a.key===" "&&!a.repeat)&&(a.preventDefault(),t(a))}),e.addEventListener("keyup",a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),Y())})},Ee=()=>{j(document.getElementById("prevMonthCalendar"),-1),j(document.getElementById("nextMonthCalendar"),1)},_=new Date;class be{_liElements=null;_selectedYear=null;_selectedMonth=null;_selectedDay=null;_selectedDayElIndex=null;_refreshCallback=null;get selectedDay(){return this._selectedDay}get fullDateArray(){return[this._selectedYear,this._selectedMonth,this._selectedDay]}set fullDateArray(n){this.setDate(n)}get fullDateString(){return!this._selectedYear||!this._selectedMonth||!this._selectedDay?null:C(this._selectedYear,this._selectedMonth,this._selectedDay)}set fullDateString(n){this.setDate(n.split("-").map(Number))}setDate([n,t,a]){if(t===void 0)return;(t<1||t>12)&&(t=1);const s=new Date(n,t,0).getDate();a>s&&(a=s),this._selectedMonth!==t||this._selectedYear!==n?(this.updateGrid([n,t]),this.selectDay(C(n,t,a))):this._selectedDay!==a&&this.selectDay(C(n,t,a)),[this._selectedYear,this._selectedMonth,this._selectedDay]=[n,t,a],this._refreshCallback&&this._refreshCallback(this.fullDateString)}constructor(n,t,a){let s="";for(let l=0;l<42;l++)s+=`
            <li class="calendar-day grid center pos-relative fill-width" data-index=${l}>
                <button type="button" class="day-btn grid center pos-relative" aria-pressed="false">
                    <span class="day-num" aria-hidden="true"></span>
                </button>
            </li>
            `;n.innerHTML=s,this._liElements=[...n.children],n.addEventListener("click",l=>{const r=l.target.closest(".calendar-day");!r||r.classList.contains("active")||(this._daySelectedCallback&&this._daySelectedCallback(r),this.fullDateString=r.dataset.date)}),t&&(this._refreshCallback=t),a&&(this._daySelectedCallback=a)}selectDay=n=>{typeof n=="string"&&(n=this.findDayByDateString(n));const t=Math.trunc(n.dataset.index/7);if(this._selectedDayElIndex){const s=this._liElements[this._selectedDayElIndex];s.classList.remove("selected"),s.querySelector("button").setAttribute("aria-pressed","false")}document.querySelectorAll(".active-week").forEach(s=>s.classList.remove("active-week"));const a=n.querySelector("button");n.classList.add("selected"),a.setAttribute("aria-pressed","true"),n.parentElement.matches(":focus-within")&&a.focus();for(let s=t*7;s<t*7+7;s++)this._liElements[s].classList.add("active-week");this._daySelectedCallback&&this._daySelectedCallback(n),this._selectedDayElIndex=n.dataset.index};updateGrid=n=>{typeof n=="string"&&(n=n.split("-").map(Number));const[t,a]=n,s=new Date(t,a-1,1).getDay(),l=s===0?6:s-1,r=new Date(t,a,0).getDate(),i=new Date(t,a-1,0).getDate(),c=_.getMonth()+1===a&&_.getFullYear()===t?_.getDate()+l-1:null,o=c!==null?c+7:null;this._liElements.forEach((d,f)=>{let m=[],h=t,u=a,p=f-l+1;const g=d.querySelector(".day-num"),S=d.querySelector("button");c!==null&&f>=c&&f<=o&&(m.push("weather-forecast"),S.setAttribute("aria-controls","weather-day"),f===c&&m.push("forecast-start"),f===o&&m.push("forecast-end"));const w=f%7;w===0?m.push("first"):w===6&&m.push("last"),p<=0?(p+=i,m.push("inactive"),a===1?(u=12,h=t-1):u=a-1):p>r&&(p-=r,m.push("inactive"),a===12?(u=1,h=t+1):u=a+1);const E=`${h}-${String(u).padStart(2,"0")}-${String(p).padStart(2,"0")}`;d.dataset.date=E;let y;const b=W(E);b.length>0?(b.every(D=>D.completed)?(m.push("completed"),y=",všechny úkoly splněny."):y=",máte úkoly.",m.push("hasTasks")):y=",bez úkolů.",d.classList.remove("inactive","hasTasks","weather-forecast"),m.length>0&&d.classList.add(...m),y=new Date(h,u-1,p).toLocaleDateString("default",{weekday:"long",day:"numeric",month:"long",..._.getFullYear()!==h&&{year:"numeric"}})+y,c!==null&&f===c&&(S.setAttribute("aria-current","date"),y="dnes, "+y),S.setAttribute("aria-label",y),g.textContent=p})};updateSelectedDay=()=>{const n=W(C(this._selectedYear,this._selectedMonth,this._selectedDay)),t=this._liElements[this._selectedDayElIndex].querySelector("button");let a=t.getAttribute("aria-label").split(",");n.length>0?n.every(s=>s.completed)?(this._liElements[this._selectedDayElIndex].classList.add("completed"),a[a.length-1]="všechny úkoly splněny."):(this._liElements[this._selectedDayElIndex].classList.remove("completed"),this._liElements[this._selectedDayElIndex].classList.add("hasTasks"),a[a.length-1]="máte úkoly."):(this._liElements[this._selectedDayElIndex].classList.remove("hasTasks"),a[a.length-1]="bez úkolů."),t.setAttribute("aria-label",a.join(","))};findDayByDateString=n=>{for(let t=0;t<this._liElements.length;t++)if(this._liElements[t].dataset.date===n)return this._liElements[t]}}let v=null;const ke=()=>{v=new be(document.getElementById("calendarGrid"),e=>{const[n,t,a]=e.split("-");ve(t,n),A(e)},e=>{if(e.classList.contains("weather-forecast")){const n=new CustomEvent("calendar:forecastDaySelected",{detail:{index:e.dataset.index-document.querySelector(".forecast-start").dataset.index},bubbles:!0});e.parentElement.dispatchEvent(n)}})},Se=new Promise(e=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}),k=document.getElementById("dateInputTodo"),A=e=>{k.value=e,O(k.value)},De=async()=>{let e=null,n=1;const t=r=>{const i=new Date(k.value),c=Math.trunc(n)*r;i.setDate(i.getDate()+c),A(i.toISOString().split("T")[0]),v.fullDateString=k.value,n<30&&(n*=1.1)},a=(r,i)=>{r.preventDefault(),n=1,t(i),e=setInterval(()=>t(i),100)},s=()=>{clearInterval(e),e=null,n=1},l=(r,i)=>{const c=o=>a(o,i);r.addEventListener("mousedown",c),r.addEventListener("touchstart",c,{passive:!1}),["mouseup","mouseleave","touchend","touchcancel"].forEach(o=>{r.addEventListener(o,s)}),r.addEventListener("keydown",o=>{(o.key==="Enter"||o.key===" "&&!o.repeat)&&(o.preventDefault(),c(o))}),r.addEventListener("keyup",o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),s())})};l(document.getElementById("prevDayTodo"),-1),l(document.getElementById("nextDayTodo"),1),await Se,k.addEventListener("change",r=>{O(r.currentTarget.value),v.fullDateString=k.value}),A(new Date().toISOString().split("T")[0]),v.fullDateString=k.value},Le=()=>{const e=document.getElementById("dateInputTodo"),n=document.getElementById("addInput"),t=()=>{n.value.trim()!==""&&(me(e.value||new Date().toISOString().split("T")[0],n.value),n.value="")};n.parentElement.addEventListener("submit",a=>{a.preventDefault(),t()})},xe=()=>{De(),Le(),ue()},Ie=()=>{Ee(),ke()};Z();U();xe();Ie();const z=document.getElementById("open-all");z&&z.addEventListener("click",e=>{e.currentTarget.setAttribute("aria-expanded",e.currentTarget.getAttribute("aria-expanded")==="true"?"false":"true"),document.getElementById("shortcuts").classList.toggle("open"),document.getElementById("settings").classList.toggle("open")});
